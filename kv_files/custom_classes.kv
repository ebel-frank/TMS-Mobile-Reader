
<RV>:
    viewclass: 'SelectableLabel'
    SelectableRecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: True
        touch_multiselect: True
    
<TextBox@RelativeLayout>:
    size_hint: None,None
    # width: min(dp(295), dp(root.parent.parent.width*0.69))
    height: "75dp"
    pos_hint: {"center_x": .5}
    MDTextField:
        id: text_field
        color_mode: 'custom'
        hint_text: 'Password'
        mode: 'rectangle'
        line_color_focus: "orange"
        password: True
        pos_hint: {"center_y": .5}
        on_focus:
            iconbtn.text_color = "orange" if text_field.focus == True else "grey"
        

    MDIconButton:
        id: iconbtn
        icon: "eye-off"
        ripple_scale: .5
        pos_hint: {"center_y": .5}
        pos: text_field.width - self.width + dp(8), 0
        theme_text_color: "Custom"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            text_field.password = False if text_field.password is True else True
            text_field.focus = True


<FlatButton@MDRaisedButton>:
    theme_text_color: "Custom"
    text_color: "white"
    md_bg_color: "orange"

<RectangleButton@MDRectangleFlatButton>:
    markup: True
    text: "[b]SIGN UP[/b]"
    theme_text_color: "Custom"
    text_color: "orange"
    line_color: "orange"


<LoginSignup@Popup>:
    title: "Login or Signup"
    title_size: "24dp"
    title_color: "orange"
    title_align: "center"
    separator_color: "orange"
    size_hint: .95, .95
    pos_hint: {"center_x": .5, "top": 1}
    background: 'white'
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            orientation: "vertical"
            ScreenManager:
                id: manager

                Screen:
                    name: "login"
                    BoxLayout:
                        orientation: "vertical"
                        BoxLayout:
                            # For title spacing
                            orientation: "vertical"
                            size_hint_y: .1
                        BoxLayout:
                            orientation:'vertical'
                            spacing: '10dp'
                            padding: ('0dp', '80dp', '0dp', '0dp')
                            MDTextField:
                                id: login_email
                                color_mode: 'custom'
                                hint_text: 'Name/Email'
                                mode: 'rectangle'
                                line_color_focus: "orange"
                                pos_hint: {"center_x": .5}
                                size_hint: None,None
                                width: min(dp(295), dp(root.width*0.69))   
                                focus: True   
                            TextBox:
                                id: login_password
                                width: min(dp(295), dp(root.width*0.69)) 
                                
                        BoxLayout:
                            orientation:'vertical'
                            AnchorLayout:                   
                                Image:
                                    source: FD.img_dir + "pngs/Divider.png"
                                    allow_stretch: True  
                                    size_hint: None, None
                                    size: (dp(24), dp(4))
                                
                        BoxLayout:
                            orientation:'vertical'
                            BoxLayout:
                                orientation:'vertical'
                                size_hint: None, None
                                width: min(dp(348), root.width*0.82)
                                pos_hint: {"center_x": .5}
                                spacing: dp(10)
                                padding: ('0dp', '0dp', '0dp', '40dp')
                                FlatButton:
                                    markup: True
                                    text: "[b]LOG IN[/b]"
                                    size_hint: 1, None
                                    on_release:
                                        root.dismiss()
                                BoxLayout:
                                    size_hint: None, None
                                    size: "200dp", "10dp"
                                    MDLabel:
                                        text: "Don't have an account?"
                                        font_size: "12dp"
                                        pos_hint: {"center_x": .29, "center_y": 0}
                                       
                                RectangleButton: 
                                    size_hint: 1, None
                                    on_release:
                                        manager.transition.direction = "left"
                                        manager.current = 'signup'

                Screen:
                    name: "signup"
                    BoxLayout:
                        orientation: "vertical"
                        BoxLayout:
                            # For title spacing
                            orientation: "vertical"
                            size_hint_y: 1.8 # cause a bug later
                        BoxLayout:
                            orientation:'vertical'
                            spacing: '10dp'
                            MDTextField:
                                id: signup_name
                                color_mode: 'custom'
                                hint_text: 'User Name'
                                mode: 'rectangle'
                                line_color_focus: "orange"
                                pos_hint: {"center_x": .5}
                                size_hint: None,None
                                width: min(dp(295), dp(root.width*0.69))
                            MDTextField:
                                id: signup_email
                                color_mode: 'custom'
                                hint_text: 'Email'
                                mode: 'rectangle'
                                line_color_focus: "orange"
                                pos_hint: {"center_x": .5}
                                size_hint: None,None
                                width: min(dp(295), dp(root.width*0.69))     
                            TextBox:
                                id: signup_password
                                width: min(dp(295), dp(root.width*0.69)) 
                            TextBox:
                                id: signup_confirm_password
                                width: min(dp(295), dp(root.width*0.69)) 
                                
                        BoxLayout:
                            orientation:'vertical'
                            AnchorLayout:                   
                                Image:
                                    source: FD.img_dir + "pngs/Divider.png"
                                    allow_stretch: True  
                                    size_hint: None, None
                                    size: (dp(24), dp(4))   
                        BoxLayout:
                            orientation:'vertical'
                            BoxLayout:
                                orientation:'vertical'
                                size_hint: None, None
                                width: min(dp(348), root.width*0.82)
                                pos_hint: {"center_x": .5}
                                spacing: dp(10)
                                padding: ('0dp', '0dp', '0dp', '40dp')
                                FlatButton:
                                    markup: True
                                    text: "[b]REGISTER[/b]"
                                    size_hint: 1, None
                                    on_release:
                                        root.dismiss()
                                BoxLayout:
                                    size_hint: None, None
                                    size: "200dp", "10dp"
                                    MDLabel:
                                        text: "Already have an account?"
                                        font_size: "12dp"
                                        pos_hint: {"center_x": .29, "center_y": 0}
                                RectangleButton: 
                                    size_hint: 1, None
                                    text: '[b]LOG IN[/b]'
                                    on_release:
                                        manager.transition.direction = "right"
                                        manager.current = 'login'


<ProfilePage@Popup>:
    title: "Profile"
    title_size: "24dp"
    title_color: "orange"
    title_align: "center"
    separator_color: "orange"
    size_hint: .7, .7
    pos_hint: {"center_x": .5, "center_y": .5}
    background: 'white'
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            orientation: "vertical"
            Image:
                source: FD.account_icon
        
        BoxLayout:
            orientation: "vertical"

